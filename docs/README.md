# ğŸ“š BLEGS Actuator Unit - Documentation

à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸šà¸ªà¸¹à¹ˆà¸¨à¸¹à¸™à¸¢à¹Œà¸£à¸§à¸¡à¹€à¸­à¸à¸ªà¸²à¸£à¸ªà¸³à¸«à¸£à¸±à¸š BLEGS Actuator Unit

---

## ğŸ¯ à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸—à¸µà¹ˆà¸™à¸µà¹ˆ

### à¸ªà¸³à¸«à¸£à¸±à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ
1. **[Quick Start Guide](getting-started/QUICK_START.md)** - à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹ƒà¸™ 10 à¸™à¸²à¸—à¸µ
2. **[User Guide](getting-started/USER_GUIDE.md)** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸à¸·à¹‰à¸™à¸à¸²à¸™
3. **[Hardware Setup](guides/HARDWARE_SETUP.md)** - à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ hardware

### à¸ªà¸³à¸«à¸£à¸±à¸šà¸™à¸±à¸à¸à¸±à¸’à¸™à¸²
1. **[Binary Protocol](technical/PROTOCOL.md)** - Protocol specification
2. **[API Reference](api-reference/README.md)** - C++ à¹à¸¥à¸° Python API
3. **[Commutation Tests](technical/COMMUTATION_TEST_RESULTS.md)** - à¸œà¸¥à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸šà¸¡à¸­à¹€à¸•à¸­à¸£à¹Œ

### à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²
1. **[Troubleshooting Guide](guides/TROUBLESHOOTING.md)** - à¸§à¸´à¸˜à¸µà¹à¸à¹‰à¸›à¸±à¸à¸«à¸²à¸—à¸±à¹ˆà¸§à¹„à¸›

---

## ğŸ“‚ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸­à¸à¸ªà¸²à¸£

```
docs/
â”‚
â”œâ”€â”€ ğŸ“ getting-started/          # à¹€à¸­à¸à¸ªà¸²à¸£à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™
â”‚   â”œâ”€â”€ QUICK_START.md           # à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (10 à¸™à¸²à¸—à¸µ)
â”‚   â””â”€â”€ USER_GUIDE.md            # à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸à¸·à¹‰à¸™à¸à¸²à¸™
â”‚
â”œâ”€â”€ ğŸ“ technical/                # à¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸²à¸‡à¹€à¸—à¸„à¸™à¸´à¸„
â”‚   â”œâ”€â”€ PROTOCOL.md              # Binary Protocol Specification
â”‚   â””â”€â”€ COMMUTATION_TEST_RESULTS.md  # à¸œà¸¥à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š
â”‚
â”œâ”€â”€ ğŸ“ api-reference/            # API Documentation
â”‚   â””â”€â”€ README.md                # API Overview
â”‚
â””â”€â”€ ğŸ“ guides/                   # à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¹€à¸‰à¸à¸²à¸°à¹€à¸£à¸·à¹ˆà¸­à¸‡
    â”œâ”€â”€ HARDWARE_SETUP.md        # à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ hardware
    â””â”€â”€ TROUBLESHOOTING.md       # à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²
```

---

## ğŸ“– à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸•à¸²à¸¡à¸«à¸±à¸§à¸‚à¹‰à¸­

### ğŸš€ Getting Started

| à¹€à¸­à¸à¸ªà¸²à¸£ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ | à¹€à¸§à¸¥à¸² | à¸£à¸°à¸”à¸±à¸š |
|--------|----------|------|-------|
| [Quick Start](getting-started/QUICK_START.md) | à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸­à¸¢à¹ˆà¸²à¸‡à¸£à¸§à¸”à¹€à¸£à¹‡à¸§ | 10 à¸™à¸²à¸—à¸µ | ğŸŸ¢ Beginner |
| [User Guide](getting-started/USER_GUIDE.md) | à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” | 30 à¸™à¸²à¸—à¸µ | ğŸŸ¢ Beginner |

---

### ğŸ”§ Hardware & Setup

| à¹€à¸­à¸à¸ªà¸²à¸£ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ | à¸£à¸°à¸”à¸±à¸š |
|--------|----------|-------|
| [Hardware Setup](guides/HARDWARE_SETUP.md) | Pinout, wiring, power | ğŸŸ¡ Intermediate |
| [Troubleshooting](guides/TROUBLESHOOTING.md) | à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²à¸•à¹ˆà¸²à¸‡à¹† | ğŸŸ¢ Beginner |

---

### ğŸ“¡ Communication Protocol

| à¹€à¸­à¸à¸ªà¸²à¸£ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ | à¸£à¸°à¸”à¸±à¸š |
|--------|----------|-------|
| [Binary Protocol](technical/PROTOCOL.md) | Protocol specification à¸‰à¸šà¸±à¸šà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ | ğŸŸ¡ Intermediate |
| [Protocol Upgrade Summary](PROTOCOL_UPGRADE_SUMMARY.md) | à¸ªà¸£à¸¸à¸›à¸à¸²à¸£à¸­à¸±à¸à¹€à¸à¸£à¸” | ğŸŸ¢ Beginner |

**à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡:**
- Packet structure à¹à¸¥à¸° format
- Command à¹à¸¥à¸° feedback definitions
- CRC-16 integrity checking
- Python à¹à¸¥à¸° C++ API examples
- Timing analysis

---

### âš™ï¸ Motor Control

| à¹€à¸­à¸à¸ªà¸²à¸£ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ | à¸£à¸°à¸”à¸±à¸š |
|--------|----------|-------|
| [Motor Control Guide](MOTOR_CONTROL_GUIDE.md) | à¸—à¸¤à¸©à¸à¸µà¹à¸¥à¸°à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ | ğŸ”´ Advanced |
| [Commutation Test Results](technical/COMMUTATION_TEST_RESULTS.md) | à¸œà¸¥à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š | ğŸŸ¡ Intermediate |

**à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡:**
- Space Vector PWM (SVPWM)
- Field-Oriented Control (FOC)
- Park/Clarke transformations
- PID position control
- S-Curve motion planning

---

## ğŸ“ Learning Paths

### Path 1: à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸—à¸±à¹ˆà¸§à¹„à¸› (2-3 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡)
```
1. Quick Start Guide (10 min)
   â†“
2. User Guide (30 min)
   â†“
3. Hardware Setup (1 hr)
   â†“
4. Troubleshooting (à¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸›à¸±à¸à¸«à¸²)
```

### Path 2: à¸™à¸±à¸à¸à¸±à¸’à¸™à¸² Software (5-6 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡)
```
1. Quick Start Guide (10 min)
   â†“
2. Binary Protocol (2 hr)
   â†“
3. API Reference (1 hr)
   â†“
4. à¸—à¸”à¸¥à¸­à¸‡à¹€à¸‚à¸µà¸¢à¸™ control software (2+ hr)
```

### Path 3: Motor Control Engineer (10+ à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡)
```
1. Quick Start Guide (10 min)
   â†“
2. Motor Control Guide (4 hr)
   â†“
3. Commutation Test Results (1 hr)
   â†“
4. à¸—à¸”à¸¥à¸­à¸‡à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡ parameters (2+ hr)
```

---

## ğŸ” Quick Reference

### ASCII Commands
```
S           # Start motor
M0          # Direct Position mode
M1          # S-Curve mode
#<value>    # Set target position
B           # Toggle Binary Protocol
```

### LED Status
```
ğŸŸ¡ Yellow   â†’ Initializing
ğŸŸ¢ Green    â†’ Ready
ğŸ”µ Blue     â†’ Running
ğŸ”´ Red      â†’ Error
```

---

## ğŸ“Š Technical Specifications

- **MCU:** STM32G431CBU6 (170MHz, 32KB RAM, 128KB Flash)
- **Encoder:** AS5047P (14-bit, Â±0.022Â° accuracy)
- **Communication:** UART @ 921,600 baud
- **Control Loop:** 5 kHz position control
- **Protocol Latency:** ~264 Î¼s round-trip

---

## ğŸ› ï¸ Common Tasks

### à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£
```bash
# ASCII mode
pio device monitor --baud 921600

# Binary mode
cd tools
python test_protocol.py
```

### Build Firmware
```bash
pio run
pio run --target upload
```

---

## ğŸ”— External Resources

- [PlatformIO Docs](https://docs.platformio.org/)
- [STM32 Reference Manual](https://www.st.com/resource/en/reference_manual/rm0440-stm32g4-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf)
- [AS5047P Datasheet](https://ams.com/as5047p)

---

**ğŸ‰ à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸”à¹‰à¸§à¸¢ [Quick Start Guide](getting-started/QUICK_START.md)**

---

**Maintained by:** M-TRCH  
**Last Updated:** December 20, 2025  
**Documentation Version:** 1.1

**Maintained by:** M-TRCH  
**Last Review:** December 3, 2025
