# üìñ User Guide

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô BLEGS Actuator Unit ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ

---

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
- [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö)
- [‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠](#‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠)
- [‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô](#‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
- [‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°](#‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°)
- [‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Feedback](#‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•-feedback)
- [‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ LED](#‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞-led)
- [‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)

---

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö

BLEGS Actuator Unit ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå BLDC ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ **Field-Oriented Control (FOC)** ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Hardware
- **MCU**: STM32G431CBU6 (170MHz ARM Cortex-M4)
- **Encoder**: AS5047P (14-bit Magnetic, Absolute Position)
- **Gear Ratio**: 8:1
- **Communication**: UART @ 921,600 baud
- **Control Loop**: 5 kHz position control
- **PWM**: 10-20 kHz SVPWM

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏•‡∏±‡∏Å
- ‚úÖ Position Control with PID
- ‚úÖ S-Curve Motion Planning
- ‚úÖ Multi-turn Tracking
- ‚úÖ Real-time Feedback
- ‚úÖ ASCII ‡πÅ‡∏•‡∏∞ Binary Protocol
- ‚úÖ EEPROM Calibration Storage

---

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

### 1. Serial Communication Setup

**Parameter:**
- Baud Rate: **921,600 bps**
- Data Format: **8-N-1** (8 data bits, No parity, 1 stop bit)
- Flow Control: None

**Connection:**
```
PC/Controller ‚Üê‚Üí USB-Serial ‚Üê‚Üí BLEGS Unit
```

### 2. Power Connection

```
24V DC Power Supply (+) ‚Üí BLEGS V+
                    (-) ‚Üí BLEGS GND
```

### 3. ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£:

1. **System Initialization**
   - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Serial, LED, EEPROM
   - ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤ calibration ‡∏à‡∏≤‡∏Å EEPROM
   
2. **Encoder Initialization**
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ AS5047P
   - ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏°‡∏∏‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
   
3. **Motor Alignment**
   - ‡∏´‡∏≤‡∏Ñ‡πà‡∏≤ electrical angle offset
   - ‡∏õ‡∏£‡∏±‡∏ö field orientation
   
4. **Ready State**
   - ‡πÅ‡∏™‡∏î‡∏á LED ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
   - ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á START

**Serial Output:**
```
[INIT] BLEGS Actuator Unit v1.0
[INIT] Encoder: OK
[INIT] Motor alignment: Done
[READY] Turns: 0  Angle: -90.5¬∞  Press START
```

---

## ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ **2 ‡πÇ‡∏´‡∏°‡∏î**‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:

### ‡πÇ‡∏´‡∏°‡∏î 0: Direct Position Control

**‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞:**
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ motion planning
- ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å (jerk)

**‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**
- ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
- ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô‡∏°‡∏≤‡∏Å‡πÜ
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ response time ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

**Command:**
```
M0
```

---

### ‡πÇ‡∏´‡∏°‡∏î 1: S-Curve Position Control (Default)

**‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞:**
- ‡πÉ‡∏ä‡πâ S-Curve Motion Profile
- ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏• ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å
- ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° acceleration ‡πÅ‡∏•‡∏∞ jerk

**Parameters:**
- Maximum Velocity: 4,000 deg/s
- Maximum Acceleration: 180,000 deg/s¬≤
- Jerk Time: 1,000 ms

**‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**
- ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- Gait control ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏î‡∏¥‡∏ô
- ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏•

**Command:**
```
M1
```

---

## ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°

### 1. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `S`

‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° START)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
S
```

**Response:**
```
Motor started
```

---

### 2. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `M<mode_number>`

**Parameters:**
- `mode_number`: 0 ‡∏´‡∏£‡∏∑‡∏≠ 1

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
M0    ‚Üí Direct Position Control
M1    ‚Üí S-Curve Position Control
```

**Response:**
```
Mode: Position Control Only
‡∏´‡∏£‡∏∑‡∏≠
Mode: Position Control with S-Curve
```

---

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `#<position>`

**Parameters:**
- `position`: ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏≠‡∏á‡∏®‡∏≤ (degrees)
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏•‡∏ö‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö multi-turn (>360¬∞)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
#0          ‚Üí ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á 0¬∞
#90.5       ‚Üí ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á 90.5¬∞
#-45        ‚Üí ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á -45¬∞
#720        ‚Üí ‡∏´‡∏°‡∏∏‡∏ô 2 ‡∏£‡∏≠‡∏ö‡πÄ‡∏ï‡πá‡∏°
```

**Response:**
```
Direct setpoint: 90.5        (‡πÇ‡∏´‡∏°‡∏î 0)
‡∏´‡∏£‡∏∑‡∏≠
S-Curve setpoint: 90.5       (‡πÇ‡∏´‡∏°‡∏î 1)
```

---

### 4. ‡∏™‡∏•‡∏±‡∏ö Binary Protocol

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `B`

‡∏™‡∏•‡∏±‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ASCII ‡πÅ‡∏•‡∏∞ Binary Protocol

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
B
```

**Response:**
```
Binary mode: ENABLED
‡∏´‡∏£‡∏∑‡∏≠
Binary mode: DISABLED
```

---

## ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Feedback

### Real-time Status

‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ (‡∏ó‡∏∏‡∏Å 50ms = 20Hz):

**Format:**
```
Returns:    <setpoint>    <current_position>
```

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- `setpoint`: ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (degrees)
  - ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Direct: ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á
  - ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î S-Curve: ‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏≤‡∏° profile
- `current_position`: ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå (degrees)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
Returns:    45.2    44.8
Returns:    52.8    52.3
Returns:    90.0    90.0
```

---

## ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ LED

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ **NeoPixel LED 1 ‡∏î‡∏ß‡∏á** ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:

### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡πà‡∏≤‡∏á‡πÜ

| ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏™‡∏µ LED | ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ |
|-------|--------|---------|----------|
| **INIT** | üü° ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á | ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà | ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö |
| **READY** | üü¢ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß | ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà | ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏°‡∏∏‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á) |
| **RUNNING** | üîµ ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô | ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà | ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ |
| **ERROR** | üî¥ ‡πÅ‡∏î‡∏á | ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö | ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î |
| **WARNING** | üü† ‡∏™‡πâ‡∏° | ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà | ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô |
| **CALIBRATING** | üü° ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á | ‡∏´‡∏≤‡∏¢‡πÉ‡∏à (breathing) | ‡∏Å‡∏≥‡∏•‡∏±‡∏á calibrate |
| **STANDBY** | üü¢ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß | ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏ä‡πâ‡∏≤‡πÜ | ‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏±‡∏Å‡∏á‡∏≤‡∏ô |

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

**‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏î START:**
- üü¢ **‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß** = ‡∏°‡∏∏‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á ¬±20¬∞ ‡∏à‡∏≤‡∏Å calibration point)
- üî¥ **‡πÅ‡∏î‡∏á/‡∏™‡πâ‡∏°** = ‡∏°‡∏∏‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô

**‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏î START:**
- üîµ **‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** = ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
- üî¥ **‡πÅ‡∏î‡∏á‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö** = ‡πÄ‡∏Å‡∏¥‡∏î error

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 1: ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

```
> S              # ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
Motor started

> M1             # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô S-Curve mode
Mode: Position Control with S-Curve

> #90            # ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ 90¬∞
S-Curve setpoint: 90.0

Returns:    22.5    22.3
Returns:    48.8    48.5
Returns:    74.2    74.0
Returns:    89.9    90.0
```

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 2: Multi-turn Motion

```
> M1
Mode: Position Control with S-Curve

> #720           # ‡∏´‡∏°‡∏∏‡∏ô 2 ‡∏£‡∏≠‡∏ö
S-Curve setpoint: 720.0

Returns:    180.2   180.0
Returns:    360.5   360.3
Returns:    540.8   540.6
Returns:    720.0   720.0
```

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 3: ‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î

```
> M1
Mode: Position Control with S-Curve

> #90
S-Curve setpoint: 90.0
(‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢)

> M0             # ‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô Direct mode
Mode: Position Control Only

> #120           # ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡∏ö Direct
Direct setpoint: 120.0
(‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å)
```

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 4: ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏•‡∏ö

```
> M1
Mode: Position Control with S-Curve

> #-90           # ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏•‡∏ö
S-Curve setpoint: -90.0

Returns:    -22.3   -22.1
Returns:    -48.5   -48.3
Returns:    -89.9   -90.0
```

---

## üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### ‡∏Ñ‡πà‡∏≤ Configuration

| Parameter | ‡∏Ñ‡πà‡∏≤ | ‡∏´‡∏ô‡πà‡∏ß‡∏¢ |
|-----------|-----|-------|
| Control Loop Frequency | 5,000 | Hz |
| Feedback Report Rate | 20 | Hz |
| SVPWM Frequency | 10,000 | Hz |
| Position Resolution | 0.005 | degrees |
| Max Speed (S-Curve) | 4,000 | deg/s |
| Max Acceleration | 180,000 | deg/s¬≤ |

### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

| ‡πÑ‡∏ü‡∏•‡πå | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|------|---------|----------|
| `motor_conf.h` | `include/` | Motor parameters |
| `motor_control.h` | `include/` | PID settings |
| `system.h` | `include/` | System config |
| `led.h` | `include/` | LED settings |

---

## üîó ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- [Quick Start Guide](QUICK_START.md) - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- [Binary Protocol](../technical/PROTOCOL.md) - High-speed control
- [Hardware Setup](../guides/HARDWARE_SETUP.md) - ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á hardware
- [Troubleshooting](../guides/TROUBLESHOOTING.md) - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤
- [API Reference](../api-reference/README.md) - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤

---

**Last Updated:** December 20, 2025  
**Version:** 1.0
